<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: js/Menu.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: js/Menu.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * @constructor
 * @class Menu
 */
function Menu() {
   /**
	 * Stores the page name for page flipping
	 * @protected
	 * @type {string}
	 */
   var currPage;
	
	/**
	 * Self reference when 'this' is not available
	 * @protected
	 * @type {Menu}
	 */
   var self = this;

   this.loginDiv = $("#loginpages");          //// Login Div
   this.Page1 = $("#page1");                  // Login Menu
   this.Page2 = $("#page2");                  // Login Page 
   this.Page3 = $("#page3");                  // 
   this.Page4 = $("#page4");                    // Forgot User
   this.NewUser = $("#newUser");              // New user button
   this.ExistingUser = $("#existingUser");    // Existing user button
   this.LoginUser = $("#login");              // Login button
   this.ForgotUser = $("#forgot");            // Forgot user button
   this.RecoverUser = $("#recover");          // Recover user button
   this.LoginExistUser = $("#loginexistuser");      

   this.ServerBrowser = $("#serverbrowser");  // Overall Server Browser
   this.SBR = $('#serverbrowserroot');        // Server Browser Root
   this.ServerList = $("#serverlist");        // Server List Div
   this.ServerSub = $("#serversubmission");   // Server subbmision form

   this.NewServer = $("#newserver");          // New Server Button
   this.ExistingServer = $("#existservers");  // Existing Server Button
   this.AddServer = $("#addserver");          // Add Server Button
   this.JoinHighlighted = $('#joinhighlighted');

   this.HighScores = $("#highscores");
   this.GameScreen = $("#gamearea");

	/**
	 * Write content to the server list table on the server browser page 
	 * @public
	 * @param rooms
	 */
   this.loadServers = function (rooms) {
      var i = 0;
      if (rooms.length === 0) {
			console.log("no servers found");
         return;
      } 
    
      var tab = document.getElementById("list");
      if(document.getElementById("tbody")){
         tab.removeChild(document.createElement("tbody"));
      }
      if (rooms !== null) {
         var tbod = document.createElement("tbody");
         tbod.setAttribute("id", "dataset");
         for (i = 0; i &lt; rooms.length; i++) {
            if (rooms[i] !== undefined &amp;&amp; rooms[i] !== null) {
               var tr = document.createElement('tr');
               var a = document.createElement('td');
               var t = document.createElement('td');
               var y = document.createElement('td');
               var e = document.createElement('td');
               var c = document.createElement('td');
               a.appendChild(document.createTextNode(rooms[i].Name));
               t.appendChild(document.createTextNode(rooms[i].Map));
               y.appendChild(document.createTextNode(rooms[i].MapSize));
               e.appendChild(document.createTextNode(rooms[i].Players));
               c.appendChild(document.createTextNode(rooms[i].Status));
               tr.appendChild(a);
               tr.appendChild(t);
               tr.appendChild(y);
               tr.appendChild(e);
               tr.appendChild(c);
               tr.addEventListener('dblclick', function () {
                  console.log("join game");
               });
               tr.addEventListener('click', function () {
                  self.JoinHighlighted.css({display: "block"});
               });
               if ((i % 2) === 1) {
                  tr.setAttribute("class", "row2");
               } else {
                  tr.setAttribute("class", "row1");
               }
               tbod.appendChild(tr);
            }
         }
         tab.appendChild(tbod);
      }
   }

	/**
	 * Sets up the event listeners for the Menu's DOM elements. Utilizing currPage to page flip.
	 * @public
	 */
   this.initialize = function (socket) {
      currPage = this.Page1;
      var self = this;
		
      // Overall Pages
      this.ServerBrowser.css({display: "none"});
      this.HighScores.css({display: "none"});
      this.GameScreen.css({display: "none"});
      this.loginDiv.css({display: "block"});

      // Login Subsections
      this.Page1.css({display: "block"});
      this.Page2.css({display: "none"});
      this.Page3.css({display: "none"});
      this.Page4.css({display: "none"});

      // Serer Broswer Subsections
      this.SBR.css({display: "block"});
      this.ServerList.css({display: "none"});
      this.ServerSub.css({display: "none"});
      this.JoinHighlighted.css({display: "none"});

      // Highscore Subsections

      //Gamescreen Subsections
      
      this.NewUser.click(function () {
         currPage.css({display: "none"});
         self.Page2.css({display: "block"});
         currPage = self.Page2;
      });
      this.ExistingUser.click(function () {
         currPage.css({display: "none"});
         self.Page3.css({display: "block"});
         currPage = self.Page3;
      });
      this.LoginUser.click(function () {
         currPage.css({display: "none"});
         self.ServerBrowser.css({display: "block"});
         Game.player.name = $('#newusername').value;
			socket.addUser(Game.player);
         currPage = self.SBR;
      });
      this.ForgotUser.click(function () {
         currPage.css({display: "none"});
         self.Page4.css({display: "block"});
         currPage = self.Page4;
      });
      this.RecoverUser.click(function () {
         currPage.css({display: "none"});
         self.Page1.css({display: "block"});
         currPage = self.Page1;
      });
      this.LoginExistUser.click(function () {
         currPage.css({display: "none"});
         self.ServerBrowser.css({display: "block"});
         Game.player.name = $('#existuser').value;
         currPage = self.SBR;
      });
      this.ExistingServer.click(function () {
         self.loadServers();
         currPage.css({display: "none"});
         self.ServerList.css({display: "block"});
         currPage = self.ServerList;
      });
      this.NewServer.click(function () {
         currPage.css({display: "none"});
         self.ServerSub.css({display: "block"});
         currPage = self.ServerSub;
      });
      this.AddServer.click(function () {
         currPage.css({display: "none"});
         self.ServerBrowser.css({display: "none"});
         self.GameScreen.css({display: "block"});
         currPage = self.GameScreen;
      });
      this.JoinHighlighted.click(function () {
         currPage.css({display: "none"});
         self.ServerBrowser.css({display: "none"});
         self.GameScreen.css({display: "block"});
         currPage = self.GameScreen;
      });
   }
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Classes</h3><ul><li><a href="Game.html">Game</a></li><li><a href="GameBoard.html">GameBoard</a></li><li><a href="GameServer.html">GameServer</a></li><li><a href="HttpService.html">HttpService</a></li><li><a href="LocalStorage.html">LocalStorage</a></li><li><a href="Menu.html">Menu</a></li><li><a href="Socket.html">Socket</a></li><li><a href="Socket_.html">Socket(2)</a></li></ul><h3>Events</h3><ul><li><a href="global.html#event:socket:add_character">socket:add_character</a></li><li><a href="global.html#event:socket:add_player">socket:add_player</a></li><li><a href="global.html#event:socket:add_room">socket:add_room</a></li><li><a href="global.html#event:socket:add_user">socket:add_user</a></li><li><a href="global.html#event:socket:added_character">socket:added_character</a></li><li><a href="global.html#event:socket:added_player">socket:added_player</a></li><li><a href="global.html#event:socket:added_user">socket:added_user</a></li><li><a href="global.html#event:socket:connection">socket:connection</a></li><li><a href="global.html#event:socket:get_room_list">socket:get_room_list</a></li><li><a href="global.html#event:socket:get_user_list">socket:get_user_list</a></li><li><a href="global.html#event:socket:join_room">socket:join_room</a></li><li><a href="global.html#event:socket:kill_character">socket:kill_character</a></li><li><a href="global.html#event:socket:killed_character">socket:killed_character</a></li><li><a href="global.html#event:socket:leave_room">socket:leave_room</a></li><li><a href="global.html#event:socket:load_map">socket:load_map</a></li><li><a href="global.html#event:socket:loaded_map">socket:loaded_map</a></li><li><a href="global.html#event:socket:move_character">socket:move_character</a></li><li><a href="global.html#event:socket:moved_character">socket:moved_character</a></li><li><a href="global.html#event:socket:remove_room">socket:remove_room</a></li><li><a href="global.html#event:socket:remove_user">socket:remove_user</a></li><li><a href="global.html#event:socket:removed_player">socket:removed_player</a></li><li><a href="global.html#event:socket:resp_user">socket:resp_user</a></li><li><a href="global.html#event:socket:resp_user_list">socket:resp_user_list</a></li><li><a href="global.html#event:socket:update_players">socket:update_players</a></li><li><a href="global.html#event:socket:update_rooms">socket:update_rooms</a></li><li><a href="global.html#event:socket:used_player">socket:used_player</a></li><li><a href="global.html#event:window:load">window:load</a></li></ul><h3>Global</h3><ul><li><a href="global.html#extensions">extensions</a></li><li><a href="global.html#OBJECT_ENEMY_PROJECTILE">OBJECT_ENEMY_PROJECTILE</a></li><li><a href="global.html#OBJECT_PLAYER">OBJECT_PLAYER</a></li><li><a href="global.html#OBJECT_POWERUP">OBJECT_POWERUP</a></li><li><a href="global.html#OBJECT_TILE_COLLIDE">OBJECT_TILE_COLLIDE</a></li><li><a href="global.html#OBJECT_TILE_NO_COLLIDE">OBJECT_TILE_NO_COLLIDE</a></li><li><a href="global.html#PLAYER_SIZE">PLAYER_SIZE</a></li><li><a href="global.html#playGame">playGame</a></li><li><a href="global.html#pn">pn</a></li><li><a href="global.html#sprites">sprites</a></li><li><a href="global.html#startGame">startGame</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-dev</a> on Thu Jan 02 2014 15:23:14 GMT-0800 (Pacific Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
